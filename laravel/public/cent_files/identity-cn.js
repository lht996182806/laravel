(function(f,q,Ca){function Da(a){return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+":"+a.getMilliseconds()}function Y(a){return(a+"").replace(/^\s+/,"").replace(/\s+$/,"")}function A(a,b,c){if(!b){return a}c=c||/\{([\w-]+)\}/g;a=Z(a);return a.replace(c,function(a,e){if(b[e]!==Ca){var k;k=b[e] instanceof Function?b[e].call(b):Z(b[e]);return c.test(k)?A(k,b,c):k}return f.__debug__?e:""})}function Z(a){var b={"{quot}":"'"},c;for(c in b){b.hasOwnProperty(c)&&(a=(a+"").replace(c,b[c]))}return a}function ma(a){try{return Array.prototype.slice.call(a,0)}catch(b){for(var c=[],d=0,e=a.length;d<e;d++){c.push(a[d])}return c}}function g(a,b){a=a||"";b=b||q;if(0===a.indexOf("#")){return b.getElementById(a.substring(1))}var c=[];if(/^[a-zA-Z]{1,}$/.test(a)){c=ma(b.getElementsByTagName(a))}else{if(0===a.indexOf(".")){if(b.querySelectorAll){c=ma(b.querySelectorAll(a))}else{for(var d=b.getElementsByTagName("*"),e=a.substring(1),k=0,m=d.length;k<m;k++){F(d[k],e)&&c.push(d[k])}}}}return c}function r(a,b){a&&1===a.nodeType&&("none"===a.style.display?a.style.display=b?"block":a._oldDisplay||"":b&&(a.style.display="block"))}function n(a){a&&1===a.nodeType&&"none"!==a.style.display&&(a._oldDisplay=a.style.display||"",a.style.display="none")}function s(a,b){if("[object Array]"===Object.prototype.toString.call(a)){for(var c=0,d=a.length;c<d;c++){s(a[c],b)}}else{F(a,b)||(a.className+=" "+b)}}function F(a,b){if(a.className){var c=a.className.split(/\s+/);c.unshift("000");c.push("000");return 2<c.length&&-1<c.join(",").indexOf(","+b+",")}return !1}function v(a,b){if("[object Array]"===Object.prototype.toString.call(a)){for(var c=0,d=a.length;c<d;c++){v(a[c],b)}}else{if(F(a,b)){for(var c=a.className.split(/\s+/),d=0,e=c.length;d<e;d++){if(b===c[d]){c.splice(d,1);break}}a.className=c.join(" ")}}}function p(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c}function Ea(a){return"string"===typeof a?f.JSON&&f.JSON.parse?f.JSON.parse(a):eval("("+a+")"):a}function K(a){var b={};a=(a+"").replace("&&&START&&&","");try{b=Ea(a)}catch(c){}return b}function R(a){if(f.JSON&&f.JSON.stringify){return f.JSON.stringify(a)}var b=[];if("object"==typeof a){if(a instanceof Array){var c=[];b.push("[");for(var d=0;d<a.length;d++){c.push(R(a[d]))}b.push(c.join());b.push("]")}else{if(null!=a){b.push("{");c=[];for(d in a){c.push('"'+d+'":'+R(a[d]))}b.push(c.join());b.push("}")}}return b.join("")}return"number"!==typeof a?'"'+(a||"")+'"':a}function na(a){var b=[],c="",d;for(d in a){c=typeof a[d],"object"!==c||"number"==c?b.push(d+"="+a[d]):b.push(d+"="+encodeURIComponent(na(a[d])))}return b.join("&")}function oa(a,b){var c=q.createElement("input");if(!("placeholder" in c||c._initedplace)){c._initedplace=!0;var d=a.getAttribute("placeholder"),e=a.id||a.name,k=a.className;c.value=d;c.id=e+"_pla";c.className=k;s(a,"hideimportant");a.setAttribute("pla_id",e+"_pla");c.setAttribute("for_id",e);c.style.color="#999";a.parentNode.insertBefore(c,a);p(c,"focus",function(){s(c,"hideimportant");v(a,"hideimportant");a.focus()});p(a,"blur",function(){""==Y(a.value)&&(s(a,"hideimportant"),v(c,"hideimportant"))});b&&(a.value="",s(a,"hideimportant"),v(c,"hideimportant"));try{a.focus(),a.blur()}catch(m){}}}function pa(a){this.key=a||"account.xiaomi.com"}function Fa(a){if("object"!==typeof a){return a}var b=[],c;for(c in a){b.push(c+"="+encodeURIComponent(a[c]))}return b.join("&")}function qa(a){this.id=Ga++;for(var b in a){a.hasOwnProperty(b)&&(this[b]=a[b])}this.xhr=new (f.XMLHttpRequest||f.ActiveXObject)("Microsoft.XMLHTTP");this.request()}function $(a){this.opt=M(a||{},Ha);this.init()}function M(a,b){var c={},d;for(d in b){d in c||d in a||(a[d]=b[d])}return a}function Ia(a){N.on(function(b,c){a.style.height=Math.max(b.height,c.height)+"px";a.style.width=c.width+"px"});N.onbeforeResize(function(){a.style.height="auto";a.style.width="100%"})}function Ja(a){for(var b=0;b<x.length;b++){if(a&1<<b){return x[b]}}}function ra(a){for(var b=0;b<x.length;b++){if(x[b]&&a===x[b].key){return x[b]}}}function Ka(a){for(var b=[],c=0;c<x.length;c++){a&1<<c&&b.push(x[c])}return b}function S(a,b,c){var d=[];if(a&&a.length){La||(check_available_time=(new Date).getTime());for(var e=!0,k=0,m;m=a[k++];){m.status&&m.status!==t.UNINIT?m.status===t.CHECKING||m.status===t.UNKNOWN?e=!1:m.status===t.ALLOW&&d.push(m):(sa(m,c),e=!1)}e?b(d):setTimeout(function(){S(a,b,c)},200)}}function sa(a,b){a.status!=t.ALLOW&&a.status!==t.DENY&&(a.status!==t.UNKNOWN&&(a.status=t.CHECKING),Ajax({url:A(a.url,{user:h.user}),method:"GET",data:{_json:"true",user:h.user},success:function(c){c=K(c);a.paramJson=c;0===c.code?a.status=t.ALLOW:2===c.code?!0===b?aa(c):a.status=t.DENY:a.status=t.DENY},error:function(){a.status===t.CHECKING?(a.status=t.UNKNOWN,sa(a)):a.status=t.DENY},timeout:function(){a.status=t.DENY}}))}function ba(a){a=a||x;for(var b=0;b<a.length;b++){a[b]&&(a[b].status=t.UNINIT)}}function ca(a){var b=a.tpl||[];h&&h.trustDevice&&a.trustSelect&&a.tpl.splice(1,0,"trust_device");for(var c="",d=0;d<b.length;d++){c="function"===typeof b[d]?c+b[d]():c+B.get(b[d])}a=M(a.tpl_data,L);return A(c,a)}function da(a){var b=a.flag;a.option?ea=a.option:a.backupCode&&(ea=a.backupCode+b);if(b){var c=Ja(b);c?S([c],function(a){c.status===t.ALLOW?fa(c):c.status===t.DENY&&da(c.paramJson||{})},!0):y({code:"1004",desc:"\u6ca1\u6709\u914d\u7f6e\u6587\u4ef6"})}else{a.backupUrl&&0===a.backupUrl.indexOf("/pass/retrieve/prompt")&&fa(),y({code:"1003",desc:"\u627e\u4e0d\u5230\u53ef\u7528\u7684\u9a8c\u8bc1\u65b9\u5f0f"})}}function Ma(){G=g("#verify-mod-container");l=g("#verify-mod-list");T=g("#verify-mod-captcha");SendTicketTip=g("#verify-mod-sendTicketTip");l.__con=g(".verify-mod-list-con")[0];l.__empty=g(".verify-mod-list-empty")[0];var a=g(".verify-mod-list-content",l)[0],b,c;for(c in x){b=x[c],b.key&&!b.forbid&&b.listname&&(C[b.key]=Na(b.key,b.listname,a))}a=g(".btn-select-mode",l)[0];l.__select=a;b=g(".btn-select-cancel",l)[0];g(".btn-select-manual",l)[0].href=A(L.ManualHref,M({user:encodeURIComponent(h.user)},h));a&&p(a,"click",function(){var a="",b;for(b in C){C[b]&&F(C[b],"now")&&(a=b)}a&&(a=ra(a))&&O(a,l.__from)});b&&p(b,"click",function(){var a=ra(l.__from);a&&O(a,l.__from)})}function fa(a){I.add("into verification main");if(!H){var b=M({submit:"\u4e0b\u4e00\u6b65"},L),b=A(B.get("verify_main"),b);H=new $({title:L.modal_title,cls:"mod_acc_tip",bodyCls:"mod_tip_bd",html:b,deviceType:h.deviceType,renderTo:h.renderTo,afterRender:function(){Ma()},beforeClose:function(){U=!0;y({code:"3001",desc:"\u5f39\u7a97\u5173\u95ed"})}})}I.add("modal inited");H.show();U=!1;V();a?((u=a)||y({code:"2001",desc:"\u6ca1\u6709\u914d\u7f6e\u6587\u4ef6"}),O(u)):ga("none")}function O(a,b){var c=a.key||(a.key=Oa()),d=P[c];Pa.push(c);u!==a&&(u=a);c&&!a.sourceKey&&D({type:c,step:0});d||(d=P[c]=Qa(a));r(G);n(l);n(SendTicketTip);var c={},e;for(e in P){e in c||!P[e]||n(P[e])}e=g(".verify-masked",d)[0];c=(c=a.paramJson&&(a.paramJson.maskedPhone||a.paramJson.maskedEmail))||a.ticketPhone||"";e&&(c?e.innerHTML=c:n(e.parentNode));a.els.trustCheck&&(W?s(a.els.trustCheck,"now"):v(a.els.trustCheck,"now"));if("Question"===a.key){e=a.paramJson&&a.paramJson.questions;for(var c=g(".verify-question-item",d),k,m,f,h,ta=0;k=c[ta++];){m=g(".verify-question-item-display",k)[0],f=g(".verify-question-item-hidden",k)[0],k=g(".verify-question-item-input",k)[0],h=e[ta-1],m.innerHTML=h.q,f.value=h.q,f.setAttribute("name","q_"+h.p),k.setAttribute("name","a_"+h.p)}}a.forceInit&&a.sendTicket&&(a.sendTicket.holdStatusTc&&clearTimeout(a.sendTicket.holdStatusTc),a.sendTicket.sending=!1,a.sendTicket.hold=0,E(a.els.sendBtn,a.sendTicket.send),a.els.unavailable&&n(a.els.unavailable));a.sendTicket&&(a.sendTicket.shownTips=!1);a.onModeShown&&a.onModeShown(d,a,H);Ra(d)}function Qa(a){var b=q.createElement("div");b.id="verify-mod-"+a.key;var c=ca(a);b.innerHTML=c;G.appendChild(b);var d=u.els={},c=g("input",b);d.inputs=[];for(var e=0,k,m,f;k=c[e++];){m=k.getAttribute("name"),f="hidden"==k.getAttribute("type"),m&&!f&&d.inputs.push({name:m,el:k})}d.sendBtn=g(".verify-sendbtn",b)[0];d.submitBtn=g(".btn-submit",b)[0];d.cancelBtn=g(".btn-cancel",b)[0];d.unavailable=g(".verify-unavailable",b)[0];d.intoList=g(".verify-into-list",b)[0];d.errorCon=g(".verify-error-con",b)[0];d.leftTimes=g(".send_left_times",b)[0];d.captchaBox=g(".captcha-box",b)[0];d.trustCheck=g(".trust-mydevice",b)[0];for(e=0;e<d.inputs.length;e++){ha(d.inputs[e].el)}p(d.submitBtn,"click",function(){ua()});p(d.intoList,"click",function(){ga(a.sourceKey||a.key)});d.sendBtn&&p(d.sendBtn,"click",function(){X()});d.trustCheck&&p(d.trustCheck,"click",function(){var a=d.trustCheck;a&&(F(a,"now")?(v(a,"now"),W=!1):(s(a,"now"),W=!0))});a.afterRender&&a.afterRender(b,a,H);return b}function ha(a,b){oa(a,!0);p(a,"keyup",function(a){a=parseInt(a.charCode)||a.keyCode;13===a?ua():8===a&&w()});p(a,"input",function(){w()});p(a,"propertychange",function(){w()})}function ua(){var a=u,b=a.validateForm?a.validateForm():Sa(),c={_json:"true",user:h.user};a.beforeSubmitData&&(b=a.beforeSubmitData(b));if("Question"===a.key){var d=a.paramJson&&a.paramJson.questions,e=[],k,m,g=a.els.inputs.length;if(d){for(var f=0;f<d.length;f++){k=d[f],m=b[f],k&&"p" in k&&"q" in k&&m&&e.push({p:k.p,q:k.q,a:m["a_"+k.p]})}}if(e.length===g){c.questions=R(e)}else{return}}else{for(d=0;d<b.length;d++){c=M(c,b[d])}}h&&h.trustDevice&&a.trustSelect&&(c.trust=W);b=(b=a.nextStep&&a.nextStep.url)||a.url;Ajax({url:b,data:c,method:"POST",success:function(b){b=K(b);0===b.code?a.nextStep?(D({type:a.key,step:"one"}),a.nextStep.submit(b)):(aa(b),a.sourceKey?D({type:a.sourceKey,step:"success"}):D({type:a.key,step:"success"})):70014===b.code||70016===b.code||100006===b.code||100005===b.code?w(a.els.errorCon,a.data.ResError,a.els.inputs):87001===b.code?(va(b,a),w(a.els.errorCon,Q.ResError,a.els.inputs[1].el)):10023===b.code?w(a.els.errorCon,a.data.ResQuotaError||L.ResQuotaError,a.els.inputs):10017===b.code?w(a.els.errorCon,a.data.CantSafePhoneError||"",a.els.inputs):66108===b.code?w(a.els.errorCon,a.data.DuplicateError,a.els.inputs):(I.add(a.url,a.data,b),y({code:"2002",desc:"\u672a\u77e5\u9519\u8bef"}))},error:function(b){"page"===h.type&&(403===b.status?w(a.els.errorCon,a.data.ResQuotaError||L.ResQuotaError,a.els.inputs):alert("\u5f53\u524d\u9a8c\u8bc1\u53d1\u751f\u672a\u77e5\u9519\u8bef\uff0c\u6216\u64cd\u4f5c\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u7a0d\u5019\u518d\u8bd5\u3002"));y({code:"2003",desc:"\u63d0\u4ea4\u9519\u8bef"})},timeout:function(){alert("\u9a8c\u8bc1\u8d85\u65f6\uff0c\u8bf7\u91cd\u8bd5");y({code:"2004",desc:"\u8d85\u65f6\u9519\u8bef"})}})}function Sa(){for(var a=u,b=a.els.inputs,c=0,d=[],e,k,m,f,g=a.els.errorCon,h=0;h<b.length;h++){e=b[h].el,k="Question"!==a.key?b[h].name:e.getAttribute("name"),m=a.notrim?e.value:Y(e.value),f=e.getAttribute("rule"),""===m?(w(g,a.data.EmptyError,e),c++):f&&"required"!==f&&!RegExp(f).test(m)?(w(g,a.data.RuleError,e),c++):(e={},e[k]=m,d.push(e))}return d}function w(a,b,c){a||(a=u.els.errorCon);b?(b=Z(b),a.innerHTML=b,r(a.parentNode,!0)):(a.innerHTML="",n(a.parentNode));if(c&&c.nodeName&&1===c.nodeType){b?s(c.parentNode,"error_bg"):v(c.parentNode,"error_bg")}else{if(c&&c.length){for(a=0;a<c.length;a++){c[a].el&&s(c[a].el.parentNode,"error_bg")}}else{for(c=u.els.inputs,a=0;a<c.length;a++){c[a].el&&v(c[a].el.parentNode,"error_bg")}}}}function va(a,b){b.els.captchaImage||Ta(a,b);b.els.captchaImage.src=(a.captchaUrl||"/pass/getCode?icodeType=login")+"&"+Math.random()}function Ta(a,b){var c=A(B.get("captchaCode"),Q);b.els.captchaBox.innerHTML=c;b.els.captchaImage=g(".captcha-image",b.els.captchaBox)[0];c=g(".icode-input",b.els.captchaBox)[0];b.els.inputs.push({name:"icode",el:c});ha(c);p(b.els.captchaImage,"click",function(){clearTimeout(b.captchaRefreshTc);b.captchaRefreshTc=setTimeout(function(){va(a,b)},200)})}function ga(a){if("none"===a){D({step:"manual"}),n(l.__con),r(l.__empty),n(l.__select.parentNode)}else{n(G);r(l);f.start_loading&&f.start_loading();"tips"===a&&(a=wa.sourceKey);D({type:a,step:"skip"});l.__from=a;var b,c;for(c in C){b=C[c],v(b,"now"),n(b)}b=Ka(ea);var d=!1;0===b.length?(V(),n(l.__con),r(l.__empty),n(l.__select),v(l.__select.parentNode,"page332_btns_two")):S(b,function(b){for(var c=0,f;f=b[c++];){f.key in C&&a!==f.key&&(r(C[f.key],!0),d=!0)}V();d?(r(l.__con),n(l.__empty),r(l.__select),s(l.__select.parentNode,"page332_btns_two")):(n(l.__con),r(l.__empty),n(l.__select),v(l.__select.parentNode,"page332_btns_two"))},!1)}}function Na(a,b,c){var d=q.createElement("li");d.id="verify-mode-list-"+a;d.innerHTML=A(B.get("modeList"),{modeName:b});c.appendChild(d);p(d,"click",function(){for(var a in C){C[a]&&v(C[a],"now")}s(d,"now")});return d}function Ra(a){var b=u;if(b.sendTicket){var c="autoSend" in h?h.autoSend:b.sendTicket.autoSend;b.sendTicket.initQuota||(b.sendTicket.initQuota=1,Ua(b.sendTicket,function(a){b.sendTicket.leftTimes=a}));c&&X()}r(a,!0);a=b.els.inputs;for(c=0;c<a.length;c++){a[c].el&&(w(),a[c].el.value="")}}function Ua(a,b){Ajax({url:"/pass/sms/userQuota",method:"POST",data:{contentType:a.contentType,addressType:a.type,user:h.user},success:function(a){a=K(a);var d=0;0===a.result&&(d=parseInt(a.info,10)||0);b&&b(d)},error:function(){b&&b(10)}})}function Va(a,b){var c=wa;if(!SendTicketTip.inited){SendTicketTip.inited=!0;var d=q.createElement("div");d.id="verify-mod-"+c.key;var e=ca(c);d.innerHTML=e;SendTicketTip.appendChild(d);e=SendTicketTip.els={};e.sendBtn=g(".verify-sendbtn",d)[0];e.intoList=g(".verify-into-list",d)[0];e.tips=g(".send-ticket-tip",d)[0];e.tipHeader=g(".send-ticket-header")[0];e.prompt=g(".send-ticket-prompt",d)[0];e.phone=g(".verify-masked",d)[0];p(e.intoList,"click",function(){n(SendTicketTip);r(G);ga("tips")});e.sendBtn&&p(e.sendBtn,"click",function(){n(SendTicketTip);r(G);X()})}n(G);r(SendTicketTip);c.sourceKey=a.sourceKey||a.key;c=a.sendTicket;e=SendTicketTip.els;e.sendBtn.innerHTML=c.send;e.tips.innerHTML=c.tips;e.tipHeader.innerHTML=c.tipHeader;e.prompt.innerHTML=c.prompt?c.prompt:"";c=(c=a.paramJson&&(a.paramJson.maskedPhone||a.paramJson.maskedEmail))||a.ticketPhone||"";e.phone.innerHTML=c}function X(a){var b=u,c=b.sendTicket,d={user:h.user,retry:c.times};a&&(d.icode=a);if(c.params){for(var e in c.params){c.params.hasOwnProperty(e)&&(d[e]=c.params[e])}}1>c.leftTimes?(E(b.els.sendBtn,c.resend,!0),ia(c)):c.shownTips?c&&!c.sending&&1>c.hold&&(c.sending=!0,E(b.els.sendBtn,c.sending_txt,!0),Ajax({url:c.url,data:d,method:"POST",success:function(a){xa.close();var d=K(a);if("function"!==typeof c.beforeSuccess||!1!==c.beforeSuccess.call(c,d)){if(0==d.code){c.captchaNeed=!1;c.leftTimes=Math.max(c.leftTimes-1,0);ia(c);c.sending=!1;a=c.resend_hold;c.hold=60*(c.times+=1);var e=function(){c.hold--;if(1<=c.hold){var d=A(a,{time:"("+c.hold+")"});E(b.els.sendBtn,d,!0);c.holdStatusTc=setTimeout(function(){e()},980)}else{E(b.els.sendBtn,c.resend,!c.leftTimes)}};e()}else{if(87001===d.code){c.sending=!1;var f="";c.captchaNeed&&(f=Q.ResError);c.captchaNeed=!0;c.captchaurl||(c.captchaurl=d.icodeUrl);xa.getiCode(function(a){!1===a?c.captchaNeed=!1:X(a)},c.captchaurl,f);E(b.els.sendBtn,c.resend,!1)}else{70022===d.code?(ia(c.leftTimes=0),E(b.els.sendBtn,c.resend,!0)):(c.sending=!1,E(b.els.sendBtn,c.resend,!1))}}"function"===typeof c.afterSuccess&&c.afterSuccess.call(c,d)}},error:function(){c.sending=!1;E(b.els.sendBtn,c.resend,!1)}})):(Va(b,a),c.shownTips=!0)}function E(a,b,c){b&&a&&(a.innerHTML=b);c?s(a,"disabled"):v(a,"disabled")}function ia(){var a=u.sendTicket.leftTimes||0;if(3>a){var b=u.els.leftTimes,c=0<a?u.sendTicket.leftTimesText:u.sendTicket.nochance;b&&(b.innerHTML=A(c,{left:a}),r(b,!0))}0===a&&E(u.els.sendBtn,u.sendTicket.resend,!0);0<u.sendTicket.times&&r(u.els.unavailable)}function ya(a){h=a;h.retrieveType||(h.retrieveType="bind");f.start_loading&&f.start_loading();D({step:0});a.url&&a.user?(ba(),Wa(function(a){aa(a)})):a.enterJson&&(ba(),da(a.enterJson))}function Wa(a){Ajax({url:h.url,data:{user:h.user,_json:"true"},success:function(b){b=K(b);2===b.code?a(b):0===b.code?za():y({result:"1001",desc:"\u83b7\u53d6\u4e1a\u52a1\u94fe\u63a5code\u51fa\u9519"})},error:function(){y({result:"1001",desc:"\u83b7\u53d6\u4e1a\u52a1\u94fe\u63a5\u51fa\u9519"})}})}function aa(a,b){var c=a.url||a.location;"page"===h.type&&a.notificationUrl?location.href=a.nofificationUrl:Ajax({url:c,data:{_json:"true"},success:function(b){b=K(b);0===b.code?Xa(b):2===b.code?da(b):(a.backupUrl&&0===a.backupUrl.indexOf("/pass/retrieve/prompt")&&fa(),y({code:"10021",desc:"\u8fdb\u5165\u8eab\u4efd\u8bc6\u522b\u51fa\u9519"}))},error:function(){y({code:"10022",desc:"\u8fdb\u5165\u8eab\u4efd\u8bc6\u522b\u51fa\u9519"})}})}function Xa(a){var b=a.notificationUrl||a.location;"page"===h.type?D({step:"success"},function(){location.href=b}):Ajax({url:b,success:function(a){za()},error:function(){y({code:"4002",desc:"sts\u8bbf\u95ee\u51fa\u9519"})}})}function za(a){I.add("succ",a);h.success&&h.success(a);D({step:"success"});Aa=ja.SUCCESS;"page"!==h.type&&H&&!U&&H.close()}function y(a){I.add("err",a);h.fail&&h.fail(a);V();!Aa===ja.FAIL&&a&&3001===a.code?D({step:"close"}):D({step:"end"});"page"!==h.type&&H&&!U&&H.close()}function V(){f.stop_loading&&f.stop_loading()}var ka=f.MiLogin||(f.MiLogin={});(function(){var a=location.hostname;return -1<a.indexOf("onebox")?"onebox":-1<a.indexOf("preview")?"preview":"release"})();var I=function(){var a=[];return{add:function(b,c,d){a.push({title:b,message:c,more:d,time:Da(new Date)});-1!==(location.search+"").indexOf("debug")&&"console" in f&&"function"===typeof f.console.log&&console.log(arguments)},get:function(){return a}}}(),Ba=function(){var a=navigator.userAgent,b={};/\s+chrome\/([\d\.]*)/i.test(a)?(b.name="Chrome",b.version=parseInt(RegExp.$1)):/msie\s+(\d+\.\d+)/i.test(a)?(b.name="IE",b.version=parseFloat(RegExp.$1)):/\s+firefox\/([\d\.]*)/i.test(a)?(b.name="Firefox",b.version=parseInt(RegExp.$1)):/applewebKit\/([\d\.]*)/i.test(a)?(b.name="Webkit",b.version=parseInt(RegExp.$1),/miuibrowser\/([\d\.]*)/i.test(a)&&(b.name="MIUI Browser",b.version=parseInt(RegExp.$1)),/version\/([\d\.]*)\s+Safari/i.test(a)&&(b.name="Safari",b.version=parseInt(RegExp.$1))):/trident\/([\d\.]*)/i.test(a)?(a=a.match(/rv:([\d\.]*)/))&&2<=a.length?(b.name="IE",b.version=parseFloat(a[1])):(b.name="Trident",b.version=RegExp.$1):(b.name=a,b.version=0);return b}();(function(){var a=q.createElement("a");a.target="_blank";q.body.appendChild(a);var b=0,c=null;return function(d,e){if("_self"===e){location.href=d}else{a.href=d;var k=(new Date).getTime();if(!(c===d&&1000>k-b)){c=d;b=k;try{var g=q.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,f);a.dispatchEvent(g)}catch(h){a.click()}}}}})();pa.prototype={key:"account.xiaomi.com",_read:f.localStorage?function(){var a="";try{a=f.localStorage.getItem(this.key)}catch(b){}a=(new Function("","return "+a))();return"object"==typeof a&&a?a:{}}:function(){return{}},_save:f.localStorage?function(a){try{f.localStorage.setItem(this.key,R(a))}catch(b){I.add("setItem \u629b\u51fa\u5f02\u5e38",Ba.name+" "+Ba.version)}}:function(){return !1},_readAndGc:function(a){var b=this._read(),c;for(c in b){var d=b[c];d.expires&&(new Date).getTime()-d.time>=d.expires&&delete b[c]}this._save(b);return a?b[a]:b},remove:function(a){var b=this._readAndGc();delete b[a];this._save(b)},get:function(a){a=this._readAndGc(a)||{};return a.value?a.value:null},set:function(a,b,c){if(!a){return !1}var d=this._readAndGc(),e=(new Date).getTime();d[a]={value:b,expires:c,time:e};this._save(d)}};f.LStore=new pa("account.xiaomi.com");var Ga=0;qa.prototype={request:function(){var a=this.url||"?",b=this.data||{},c=(this.method||"GET").toUpperCase(),d=this;this.xhr.onreadystatechange=function(){d.state=d.xhr.readyState;4==d.xhr.readyState&&(f.clearTimeout(d.timeouthandler),d.status=d.xhr.status,200==d.xhr.status?d.success&&d.success(d.xhr.responseText,d.xhr):d.error&&d.error(d.xhr))};b=Fa(b);"GET"==c?(a=-1===a.indexOf("?")?a+("?"+b+"&_dc="+(new Date).getTime()):a+("&"+b+"&_dc="+(new Date).getTime()),b=null):a+="?_dc="+(new Date).getTime();this.xhr.open(c,a,!0);this.xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.timeouthandler=f.setTimeout(function(){d.timeout()},5000);this.xhr.send(b)},timeout:function(){}};f.Ajax=function(a){return new qa(a)};var N={fns:[],beforeFns:[],inited:!1,on:function(a){"function"===typeof a&&this.fns.push(a);!this.inited&&this.init();f.onresize&&f.onresize()},off:function(a){if("function"===typeof a){for(var b=0,c=this.fns.length;b<c;b++){if(a===this.fns[b]){return this.fns.splice(b,1),!0}}}return !1},onbeforeResize:function(a){"function"===typeof a&&this.beforeFns.push(a)},beforeExec:function(){for(var a=0,b;b=this.beforeFns[a++];){b&&b.call(f)}},exec:function(){this.beforeExec();var a;a=f.innerWidth||0;var b=f.innerHeight||0;a||("CSS1Compat"==q.compatMode?(a=q.documentElement.clientWidth,b=q.documentElement.clientHeight):(a=q.body.clientWidth,b=q.body.clientHeight));a={width:a,height:b};for(var b=q.documentElement,c=q.body,d=Math.max(b.clientHeight||0,c.scrollHeight,b.scrollHeight||0,c.offsetHeight,b.offsetHeight||0),b={width:Math.max(b.clientWidth||0,c.scrollWidth,b.scrollWidth||0,c.offsetWidth,b.offsetWidth||0),height:d},c=q.documentElement,d=q.body,c={scleft:Math.max(c.scrollLeft||0,d.scrollLeft),sctop:Math.max(c.scrollTop||0,d.scrollTop)},d=0,e;e=this.fns[d++];){e&&e.call(f,a,b,c)}},init:function(){var a=null,b=this;f.onresize=function(){f.clearTimeout(a);a=f.setTimeout(function(){b.exec()},60)}},triggle:function(){this.exec()}},la={},z=null,Ya=q.body,Ha={title:"{Modal-DefTitle}",cls:"",titleCls:"",bodyCls:"",html:"",afterRender:function(){}},Za=function(){var a=0;return function(){return"modal-id-"+a++}}();$.prototype={init:function(){var a=this.opt;z||(a.renderTo?z=a.renderTo:(z=q.createElement("div"),s(z,"modal_container"),z.innerHTML='<div class="modal_msk"></div>',Ya.appendChild(z),!a.modalfixed&&Ia(z)));this.id=a.id||Za();var b=this.modal=la[this.id],c=this;b||(b=this.modal=q.createElement("div"),s(b,"modal_tip"),this.hide(),b.id=this.id,b.innerHTML='<div class="modal_tip_hd modal-header"><div class="external_logo_area"><a class="milogo" href="javascript:void(0)"></a></div><div class="modal-header-text modal_tip_title"></div><a href="javascript:void(0)" title="" class="modal-header-close btn_mod_close"><span>\u5173\u95ed</span></a></div><div class="modal_tip_bd modal-body"></div>',a.renderTo?a.renderTo.appendChild(b):z.appendChild(b),this.header=g(".modal-header",b)[0],this.title=g(".modal-header-text",b)[0],this.body=g(".modal-body",b)[0],this.closeBtn=g(".modal-header-close",b)[0],p(this.closeBtn,"click",function(){c.close()}),this.render(a),la[this.id]=b,this.resizeModal=function(c,e,k){e=b;var g="getComputedStyle" in f?f.getComputedStyle(e):e.currentStyle;e={width:Math.max(parseInt(g.width)||0,e.clientWidth,e.offsetWidth),height:Math.max(parseInt(g.height)||0,e.clientHeight,e.offsetHeight)};g=c.height;c=c.width;var h=k.sctop;k=k.scleft;a.deviceType&&"mobile"===a.deviceType||(e&&e.height&&(b.style.marginTop=e.height<g?h+(g-e.height)/2+"px":0+h+"px",b.style.top=0),e&&e.width&&(b.style.marginLeft=e.width<c?k+(c-e.width)/2+"px":0+k+"px",b.style.left=0))},a.modalfixed&&(this.resizeModal=function(){}),!a.renderTo&&N.on(this.resizeModal));this.show()},show:function(){if(this.modal&&(r(z,"hide"),r(this.modal,"hide"),!this.opt.renderTo)){var a=this;setTimeout(function(){!a.opt.modalfixed&&N.triggle()},200)}},beforeClose:function(){if(this.opt.beforeClose){return this.opt.beforeClose.call(this)}},close:function(a){if(this.modal){if(!1===this.beforeClose()){return 0}a?(N.off(this.resizeModal),z.removeChild(this.modal),this.modal=null,la[this.id]=null,n(z,"hide")):this.hide()}},hide:function(){n(z,"hide");n(this.modal,"hide")},render:function(a){this.title.innerHTML=a.title;this.body.innerHTML=a.html;a.titleCls&&s(this.title,a.titleCls);a.bodyCls&&s(this.body,a.bodyCls);a.cls&&s(this.modal,a.cls);a.afterRender.call(this)},update:function(a,b){b&&(a.titleCls&&v(this.title,a.titleCls),a.bodyCls&&v(this.body,a.bodyCls),a.cls&&v(this.modal,a.cls));this.render(a)}};f.Modal=$;var B=function(){var a={};return{add:function(b,c){if(c){a[b]=c}else{if("object"===typeof b){for(var d in b){b.hasOwnProperty(d)&&(a[d]=b[d])}}}},get:function(b){return a[b]||""}}}();B.add({maskedmsg:'<em class="verify-masked"></em>',verify_main:'<div id="verify-mod-container">                </div>                <div id="verify-mod-list">                   <div class="disten30x103 identity_way_list verify-mod-list-con">                      <h4>\u8bf7\u9009\u62e9\u9a8c\u8bc1\u65b9\u5f0f\uff1a</h4>                      <ul class="md_way verify-mod-list-content">                      </ul>                    </div>                    <div class="disten30x103 identity_way_list verify-mod-list-empty" style="display:none">                      <h4>\u5f53\u524d\u6ca1\u6709\u5176\u4ed6\u53ef\u7528\u7684\u9a8c\u8bc1\u65b9\u5f0f\uff0c\u60a8\u53ef\u4ee5\uff1a</h4>                      <ul class="md_way md_unavailable">                        <li>\u6362\u4e00\u53f0\u767b\u5f55\u8fc7\u5c0f\u7c73\u5e10\u53f7\u7684\u8bbe\u5907\u8bd5\u8bd5</li>                        <li>\u70b9\u51fb\u9875\u9762\u4e0b\u65b9\u94fe\u63a5\u63d0\u4ea4\u5e10\u53f7\u7533\u8bc9</li>                      </ul>                    </div>                  <div class="tip_btns page332_btns_two">                     <a class="btn_tip btn_commom btn-select-mode" href="javascript:void(0)" title="{submit}">{submit}</a>                     <a class="btn_tip btn_back btn-select-cancel" href="javascript:void(0)" title="{back}">{back}</a>                  </div>                  <div class="fixbottom">                    <div class="txt_qst">                      <a href="javascript:void(0)" class="btn-select-manual" target="_blank" title="{ManualList}">{ManualList}</a>                    </div>                  </div>                </div>                <div id="verify-mod-captcha">                </div>                <div id="verify-mod-sendTicketTip" style="display:none">                </div>',captcha_mode:'<div class="disten30x103 flush_none">                    <h6>{title}</h6>                    <div class="mod">                      <div class="inputcode inputsend captcha-box">                        <label class="input_bg error_bg">                          <input class="code_input captcha-input" type="text" placeholder="{holder}">                        </label>                        <img class="chkcode_img captcha-image" />                      </div>                      <div class="err_tip"><em class="icon_error"></em><span class="verify-error-con"></span></div>                    </div>                  </div>                  <div class="tip_btns  page332_btns_two">                    <a class="btn_tip btn_commom btn-submit" href="javascript:void(0)" title="{submit}">{submit}</a>                    <a class="btn_tip btn_back btn-cancel" href="javascript:void(0)" title="{cancel}">{cancel}</a>                  </div>',captchaCode:'<label class="input_bg chkcode">                    <input class="code_input icode-input" rule="{rule}" type="text" name="{inputName}" placeholder="{Captcha_PLA}">                 </label>                 <img class="chkcode_img captcha-image" alt="{CaptchaImg-alt}">',modeList:'<i class="acctip_icon acctip_icon_8"></i>{modeName}',btns:'<div class="tip_btns">             <a class="btn_tip btn_commom btn-submit" href="javascript:void(0)" title="{submit}">{submit}</a>           </div>',bottom:'<div class="fixbottom">              <div class="t_c">                <a href="javascript:void(0)" class="next_step verify-into-list" title="\u6362\u7528\u5176\u4ed6\u9a8c\u8bc1\u65b9\u5f0f">\u6362\u7528\u5176\u4ed6\u9a8c\u8bc1\u65b9\u5f0f</a>              </div>            </div>',input:'<div class="disten30x103">             <h6>{title}</h6>             <div class="mod inputsend {ext_cls}">               <label class="input_bg">                 <input class="resendinput" type="{inputType}" rule="{rule}" name="{inputName}" placeholder="{holder}">               </label>               <span class="remain">                 <a href="javascript:void(0)" title="{send}" class="verify-sendbtn">{send}</a>               </span>             </div>             <div class="codetip mar10 captcha-box">             </div>             <div class="err_tip">                <em class="icon_error"></em>                <span class="verify-error-con"></span>             </div>             <div class="err_tip send_left_times">             </div>             <div class="txt_link">               <span class="verify-unavailable" style="display:none">                {unavailable}               </span>             </div>           </div>',trust_device:'<div class="n_checked twostep_trustinfo trust-mydevice">                    <label>                      <i class="icon_select"></i>                      \u8fd9\u662f\u6211\u7684\u79c1\u4eba\u8bbe\u5907\uff0c\u4ee5\u540e\u767b\u5f55\u65e0\u9700\u8f93\u5165\u53e3\u4ee4                    </label>                  </div>',input_verifySMS:'<div class="identity_phone_effect">                       <div class="disten20x10">                         <h4 class="pb0">{title}</h4>                       </div>                       <div class="description">                         <p>{sendedtip1}</p>                         <p>{sendedtip2}</p>                       </div>                       <div class="mod inputsend {ext_cls}">                         <label class="input_bg">                           <input class="resendinput" type="{inputType}" rule="{rule}" name="{inputName}" placeholder="{holder}">                         </label>                         <span class="remain">                           <a href="javascript:void(0)" title="{send}" class="verify-sendbtn">{send}</a>                         </span>                       </div>                       <div class="codetip mar10 captcha-box">                       </div>                       <div class="err_tip">                          <em class="icon_error"></em>                          <span class="verify-error-con"></span>                       </div>                       <div class="err_tip send_left_times">                       </div>                       <div class="txt_link">                         <span class="verify-unavailable" style="display:none">                          {unavailable}                         </span>                       </div>                     </div>',input_question:'<li class="verify-question-item">                      <p class="verify-question-item-display">{question}</p>                      <label class="input_bg">                        <input type="hidden" name="q_{position}" class="verify-question-item-hidden" value="{question}">                        <input type="text" name="a_{position}" class="verify-question-item-input">                      </label>                    </li>',questions:'<div class="disten30x90">                  <h4>{title}</h4>                  <div class="mod">                    <ul class="set_qst_block">                      {questions_inputels}                      <div class="err_tip" style="display:block">                        <span style="display:none">                          <em class="icon_error"></em>                          <span class="verify-error-con"></span>                        </span>                      </div>                    </ul>                  </div>                 </div>',sendTicketTips:'<div class="identity_phone_effect">                      <div class="disten20x10">                        <h4 class="pb0 send-ticket-header">                        </h4>                      </div>                      <div class="description">                        <p>                          <span class="send-ticket-tip">                          </span>                          <span class="ff6 verify-masked">                          </span>                        </p>                        <p class="send-ticket-prompt"></p>                      </div>                    </div>                    <div class="tip_btns">                      <button class="btn_tip btn_commom verify-sendbtn">                      </button>                    </div>'});var L={modal_title:"\u5c0f\u7c73\u5e10\u53f7\u5b89\u5168\u9a8c\u8bc1",submit:"\u786e\u5b9a",cancel:"\u53d6\u6d88",back:"\u8fd4\u56de",send:"",next_step:"\u6362\u7528\u5176\u4ed6\u9a8c\u8bc1\u65b9\u5f0f",ResQuotaError:"\u60a8\u7684\u9519\u8bef\u6b21\u6570\u8fc7\u591a\uff0c\u4e3a\u4e86\u4fdd\u62a4\u60a8\u7684\u5e10\u53f7\u5b89\u5168\uff0c\u8bf7\u6362\u7528\u5176\u4ed6\u9a8c\u8bc1\u65b9\u5f0f\u6216\u4e00\u5929\u540e\u518d\u6b21\u5c1d\u8bd5",ManualList:"\u5e10\u53f7\u7533\u8bc9\u91cd\u7f6e\u5bc6\u4fdd",ManualHref:"/pass/retrieve/prompt?externalId={user}&type={retrieveType}"},J={},t={ALLOW:1,DENY:2,UNINIT:3,CHECKING:4,UNKNOWN:5},Q={key:"captcha",Captcha_PLA:"\u8bf7\u8f93\u5165\u56fe\u7247\u9a8c\u8bc1\u7801","CaptchaImg-alt":"\u70b9\u51fb\u53ef\u5237\u65b0\u56fe\u7247\u9a8c\u8bc1\u7801",inputName:"icode",rule:"\\w{4,8}",ResError:"\u9a8c\u8bc1\u7801\u4e0d\u6b63\u786e",tpl:["captcha_mode"],tpl_data:{title:"\u8bf7\u8f93\u5165\u56fe\u7247\u9a8c\u8bc1\u7801",holder:"\u8bf7\u8f93\u5165\u56fe\u7247\u9a8c\u8bc1\u7801",rule:"\\w{4,8}",inputName:"icode",inputType:"text"}},wa={key:"send_ticket_tip",tpl:["sendTicketTips","bottom"],tpl_data:{}},W=!0,x=[{name:"\u9a8c\u8bc1\u5bc6\u7801",key:"pwd",notrim:!0,url:"/auth/verifyPassword?_flag=1",tpl:["input","btns","bottom"],listname:"\u9a8c\u8bc1\u5bc6\u7801",status:t.UNINIT,tpl_data:{title:"\u9700\u8981\u9a8c\u8bc1\u60a8\u7684\u5bc6\u7801",holder:"\u8bf7\u8f93\u5165\u5bc6\u7801",rule:"required",unavailable:"",inputName:"pwd",inputType:"password",ext_cls:"identitypwd"},data:{EmptyError:"\u8bf7\u8f93\u5165\u5bc6\u7801",RuleError:"\u5bc6\u7801\u8f93\u5165\u9519\u8bef",ResError:"\u5bc6\u7801\u8f93\u5165\u9519\u8bef"}},{name:"\u9a8c\u8bc1\u4ee4\u724c",listname:"\u4f7f\u7528\u5c0f\u7c73\u5b89\u5168\u4ee4\u724c",key:"token",url:"/auth/verifyStep2?_flag=2",tpl:["input","btns","bottom"],listname:"\u4f7f\u7528\u5c0f\u7c73\u5b89\u5168\u4ee4\u724c",status:t.UNINIT,trustSelect:!0,tpl_data:{title:"\u9700\u8981\u9a8c\u8bc1\u60a8\u7684\u5c0f\u7c73\u5b89\u5168\u4ee4\u724c",holder:"\u8bf7\u8f93\u5165\u5b89\u5168\u4ee4\u724c\u751f\u6210\u7684\u9a8c\u8bc1\u7801",rule:"^\\d{6,8}$",unavailable:"",inputName:"code",inputType:"text",ext_cls:"identitypwd"},data:{EmptyError:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",RuleError:"\u9a8c\u8bc1\u7801\u8f93\u5165\u9519\u8bef",ResError:"\u9a8c\u8bc1\u7801\u9519\u8bef\u6216\u5df2\u8fc7\u671f"}},{name:"\u9a8c\u8bc1\u624b\u673a",key:"SMS",listname:"\u901a\u8fc7\u5b89\u5168\u624b\u673a\u63a5\u6536\u9a8c\u8bc1\u77ed\u4fe1",trustSelect:!0,sendTicket:{autoSend:!0,url:"/auth/sendPhoneTicket",contentType:160010,type:"PH",sending:!1,hold:0,leftTimes:10,times:0,leftTimesText:"\u60a8\u4eca\u5929\u8fd8\u80fd\u53d1\u9001{left}\u6761\u77ed\u4fe1",tips:"\u70b9\u51fb\u53d1\u9001\u77ed\u4fe1\u6309\u94ae\uff0c\u5c06\u4f1a\u53d1\u9001\u4e00\u6761\u6709\u9a8c\u8bc1\u7801\u7684\u77ed\u4fe1\u81f3\u624b\u673a",tipHeader:"\u4e3a\u4e86\u4fdd\u62a4\u5e10\u53f7\u5b89\u5168\uff0c\u9700\u8981\u9a8c\u8bc1\u624b\u673a\u6709\u6548\u6027",prompt:"",nochance:"\u60a8\u4eca\u5929\u5df2\u7ecf\u53d1\u9001\u592a\u591a\u77ed\u4fe1\uff0c\u8bf7\u6362\u4e2a\u65f6\u95f4\u6216\u6539\u7528\u5176\u4ed6\u9a8c\u8bc1\u65b9\u5f0f",send:"\u53d1\u9001\u77ed\u4fe1",sending_txt:"\u6b63\u5728\u53d1\u9001",resend:"\u91cd\u65b0\u53d1\u9001",resend_hold:"\u91cd\u65b0\u53d1\u9001{time}"},url:"/auth/verifyPhone?_flag=4",tpl:["input","btns","bottom"],tpl_data:{inputName:"ticket",inputType:"text",send:"\u53d1\u9001\u77ed\u4fe1",title:'\u8bf7\u4f7f\u7528\u5b89\u5168\u624b\u673a<em class="ff6 verify-masked"></em>\u83b7\u53d6\u9a8c\u8bc1\u7801\u77ed\u4fe1',holder:"\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801",rule:"^\\d{6,8}$",unavailable:'<em class="acctip_icon acctip_icon_3"></em>\u4e00\u76f4\u6536\u4e0d\u5230\u9a8c\u8bc1\u77ed\u4fe1\uff1f<a target="_blank"  href="http://static.account.xiaomi.com/html/faq/faqSMSerror.html">\u67e5\u770b\u53ef\u80fd\u539f\u56e0</a>'},data:{EmptyError:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",RuleError:"\u9a8c\u8bc1\u7801\u8f93\u5165\u9519\u8bef",ResError:"\u9a8c\u8bc1\u7801\u9519\u8bef\u6216\u5df2\u8fc7\u671f"}},{name:"\u9a8c\u8bc1\u90ae\u7bb1",key:"email",listname:"\u901a\u8fc7\u5b89\u5168\u90ae\u7bb1\u63a5\u6536\u9a8c\u8bc1\u90ae\u4ef6",sendTicket:{autoSend:!0,url:"/auth/sendEmailTicket",contentType:160010,type:"EM",sending:!1,hold:0,leftTimes:10,times:0,leftTimesText:"\u60a8\u4eca\u5929\u8fd8\u80fd\u53d1\u9001{left}\u5c01\u90ae\u4ef6",tips:"\u70b9\u51fb\u53d1\u9001\u90ae\u4ef6\u6309\u94ae\uff0c\u5c06\u4f1a\u53d1\u9001\u4e00\u5c01\u6709\u9a8c\u8bc1\u7801\u7684\u90ae\u4ef6\u81f3\u90ae\u7bb1",tipHeader:"\u4e3a\u4e86\u4fdd\u62a4\u5e10\u53f7\u5b89\u5168\uff0c\u9700\u8981\u9a8c\u8bc1\u90ae\u7bb1\u6709\u6548\u6027",prompt:"",nochance:"\u60a8\u4eca\u5929\u5df2\u7ecf\u53d1\u9001\u592a\u591a\u90ae\u4ef6\uff0c\u8bf7\u6362\u4e2a\u65f6\u95f4\u6216\u6539\u7528\u5176\u4ed6\u9a8c\u8bc1\u65b9\u5f0f",send:"\u53d1\u9001\u90ae\u4ef6",sending_txt:"\u6b63\u5728\u53d1\u9001",resend:"\u91cd\u65b0\u53d1\u9001",resend_hold:"\u91cd\u65b0\u53d1\u9001{time}"},url:"/auth/verifyEmail?_flag=8",tpl:["input","btns","bottom"],tpl_data:{inputName:"ticket",inputType:"text",send:"\u53d1\u9001\u90ae\u4ef6",title:'\u8bf7\u4f7f\u7528\u5b89\u5168\u90ae\u7bb1<em class="ff6 verify-masked"></em>\u83b7\u53d6\u9a8c\u8bc1\u7801',holder:"\u8bf7\u8f93\u5165\u90ae\u4ef6\u9a8c\u8bc1\u7801",rule:"^\\d{6,8}$",unavailable:""},data:{EmptyError:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",RuleError:"\u9a8c\u8bc1\u7801\u8f93\u5165\u9519\u8bef",ResError:"\u9a8c\u8bc1\u7801\u9519\u8bef\u6216\u5df2\u8fc7\u671f"}},{name:"\u5bc6\u4fdd\u95ee\u9898",listname:"\u56de\u7b54\u8bbe\u7f6e\u7684\u5bc6\u4fdd\u95ee\u9898",key:"Question",url:"/auth/answerQuestion?_flag=16",tpl:[function(){var a=u,b=a.paramJson&&a.paramJson.questions,c=B.get("questions"),d=[],e;if(b&&b.length){for(var f=0;f<b.length;f++){(e=b[f])&&"p" in e&&"q" in e&&d.push(A(B.get("input_question"),{question:e.q,position:e.p}))}}return A(c,{questions_inputels:d.join(""),title:a.tpl_data.title})},"btns","bottom"],tpl_data:{title:"\u8bf7\u56de\u7b54\u5bc6\u4fdd\u95ee\u9898",inputType:"text",holder:"\u8bf7\u56de\u7b54\u5bc6\u4fdd\u95ee\u9898",rule:"",unavailable:""},data:{EmptyError:"\u8bf7\u586b\u5199\u5bc6\u4fdd\u95ee\u9898",RuleError:"\u5b58\u5728\u9519\u8bef\u7b54\u6848",ResError:"\u5b58\u5728\u9519\u8bef\u7b54\u6848"}}];B.add({delivery_contact:'<div class="wapbox getaddress">                        <div class="disten20x10">                          <h4 class="pb0">{title}</h4>                          <p>{secTitle}</p>                        </div>                        <div class="regbox">                          <div class="pb5">{delivery_contact}</div>                          <div class="inputbg">                            <label class="labelbox" for="">                              <input type="tel" name="{inputName}" rule="{rule}" placeholder="{holder}">                            </label>                          </div>                          <div class="err_tip">                              <em class="icon_error"></em>                              <span class="verify-error-con"></span>                          </div>                        </div>                      </div>'});J.verify_delivery_contact={name:"Verify Delivery Ticket",key:"VerifyDeliveryContact",sourceKey:"DeliveryContact",url:"/auth/deliveryAddress/verify?_flag=32",tpl:["input_verifySMS","btns","bottom"],tpl_data:{title:"\u4e3a\u4e86\u4fdd\u62a4\u5e10\u53f7\u5b89\u5168\uff0c\u9700\u8981\u9a8c\u8bc1\u624b\u673a\u6709\u6548\u6027",sendedtip1:'\u5df2\u7ecf\u53d1\u9001\u4e00\u6761\u6709\u9a8c\u8bc1\u7801\u7684\u77ed\u4fe1\u81f3\u624b\u673a<span class="verify-masked ff6"></span>',sendedtip2:"\u8bf7\u8054\u7cfb\u53f7\u7801\u7684\u4e3b\u4eba\u83b7\u53d6\u9a8c\u8bc1\u7801\uff0c\u586b\u5165\u4e0b\u65b9\u8f93\u5165\u6846\u3002",inputType:"text",holder:"\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801",inputName:"ticket",rule:"^\\d{6,8}$",unavailable:'<em class="acctip_icon acctip_icon_3"></em>\u4e00\u76f4\u6536\u4e0d\u5230\u9a8c\u8bc1\u77ed\u4fe1\uff1f<a target="_blank"  href="http://static.account.xiaomi.com/html/faq/faqSMSerror.html">\u67e5\u770b\u53ef\u80fd\u539f\u56e0</a>'},forceInit:!0,sendTicket:{autoSend:!0,url:"/auth/deliveryAddress/sendTicket",contentType:4000006,params:{rkey:0,phone:0},beforeSuccess:function(a){0===a.code?a.rkey&&(this.params.rkey=a.rkey):21307===a.code&&(alert("\u5f53\u524d\u64cd\u4f5c\u5df2\u7ecf\u5931\u6548\uff0c\u8bf7\u91cd\u8bd5\uff01"),location.reload())},type:"PH",sending:!1,hold:0,leftTimes:10,times:0,leftTimesText:"\u60a8\u4eca\u5929\u8fd8\u80fd\u53d1\u9001{left}\u6761\u77ed\u4fe1",tips:"\u70b9\u51fb\u53d1\u9001\u77ed\u4fe1\u6309\u94ae\uff0c\u5c06\u4f1a\u53d1\u9001\u4e00\u6761\u6709\u9a8c\u8bc1\u7801\u7684\u77ed\u4fe1\u81f3\u624b\u673a",tipHeader:"\u4e3a\u4e86\u4fdd\u62a4\u5e10\u53f7\u5b89\u5168\uff0c\u9700\u8981\u9a8c\u8bc1\u624b\u673a\u6709\u6548\u6027",prompt:"\u8bf7\u8054\u7cfb\u53f7\u7801\u7684\u4e3b\u4eba\u83b7\u53d6\u9a8c\u8bc1\u7801\u77ed\u4fe1",nochance:"\u60a8\u4eca\u5929\u5df2\u7ecf\u53d1\u9001\u592a\u591a\u77ed\u4fe1\uff0c\u8bf7\u6362\u4e2a\u65f6\u95f4\u6216\u6539\u7528\u5176\u4ed6\u9a8c\u8bc1\u65b9\u5f0f",send:"\u53d1\u9001\u77ed\u4fe1",sending_txt:"\u6b63\u5728\u53d1\u9001",resend:"\u91cd\u65b0\u53d1\u9001",resend_hold:"\u91cd\u65b0\u53d1\u9001{time}"},data:{EmptyError:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",RuleError:"\u9a8c\u8bc1\u7801\u8f93\u5165\u9519\u8bef",ResError:"\u9a8c\u8bc1\u7801\u9519\u8bef\u6216\u5df2\u8fc7\u671f"}};x[5]={name:"Delivery Contact",listname:"\u5c0f\u7c73\u7f51\u6536\u8d27\u8054\u7cfb\u4eba",key:"DeliveryContact",url:"/auth/deliveryAddress/verify?_flag=32",tpl:["delivery_contact","btns","bottom"],nextStep:{url:"/auth/deliveryAddress/check",submit:function(a,b){a&&a.phone&&(J.verify_delivery_contact.ticketPhone=a.phone,J.verify_delivery_contact.sendTicket.params={rkey:a.rkey,phone:a.phone},O(J.verify_delivery_contact))}},tpl_data:{submit:"\u4e0b\u4e00\u6b65",title:"\u8bf7\u5199\u51fa\u5c0f\u7c73\u7f51\u6536\u8d27\u5730\u5740\u4e2d\u7684\u624b\u673a\u53f7\u7801",secTitle:'\u8bf7\u5199\u51fa\u9664<span class="ff6 verify-masked"></span>\u5916\u7684\u624b\u673a\u53f7\u7801\uff0c\u6b64\u53f7\u7801\u5c06\u63a5\u6536\u9a8c\u8bc1\u77ed\u4fe1',inputType:"tel",inputName:"phone",rule:"\\+*\\d{4,20}",delivery_contact:"\u6536\u8d27\u624b\u673a\u53f7\u7801\uff1a",holder:"\u8bf7\u8f93\u5165\u6536\u8d27\u624b\u673a\u53f7\u7801",ruleType:"contact",unavailable:""},data:{EmptyError:"\u8bf7\u8f93\u5165\u60a8\u7684\u6536\u8d27\u4eba\u53f7\u7801",RuleError:"\u6536\u8d27\u4eba\u53f7\u7801\u9519\u8bef",ResError:"\u6536\u8d27\u4eba\u53f7\u7801\u9519\u8bef",DuplicateError:"\u8bf7\u52ff\u8f93\u5165\u60a8\u7684\u5b89\u5168\u624b\u673a\u7684\u53f7\u7801"}};B.add({idnumber_input:'<div class="disten30x103">             <h6>{title}</h6>             <div class="mod inputsend {ext_cls}">               <label class="input_bg">                 <input class="resendinput" type="{inputType_name}" rule="{rule_name}" name="{inputName_name}" placeholder="{holder_name}">               </label>             </div>             <div class="mod inputsend {ext_cls}">               <label class="input_bg">                 <input class="resendinput" type="{inputType_id}" rule="{rule_id}" name="{inputName_id}" placeholder="{holder_id}">               </label>             </div>             <div class="codetip mar10 captcha-box">             </div>             <div class="err_tip">                <em class="icon_error"></em>                <span class="verify-error-con"></span>             </div>             <div class="err_tip send_left_times">             </div>             <div class="txt_link">               <span class="verify-unavailable" style="display:none">                {unavailable}               </span>             </div>           </div>',IDNumber_Tip:'<div class="idnumberbox idnumber-tip-container"><div class="idnumber_hd idnumber-tip-header">\u60a8\u53ef\u80fd\u5728\u5982\u4e0b\u60c5\u51b5\u5c06\u5c0f\u7c73\u5e10\u53f7\u548c\u8eab\u4efd\u8bc1\u7ed1\u5b9a\uff1a</div><ul class="idnumberlist idnumber-tip-ul"><li class="idnumber-tip-li">\u5c0f\u7c73\u652f\u4ed8\u7ed1\u5b9a\u94f6\u884c\u5361\u65f6\uff0c\u5bf9\u5e94\u7ed1\u5b9a\u5f00\u5361\u8eab\u4efd\u8bc1\u53f7</li><li class="idnumber-tip-li">\u5c0f\u7c73\u91d1\u878d\u8d2d\u4e70\u7406\u8d22\u4ea7\u54c1\u65f6\uff0c\u94f6\u884c\u5e10\u53f7\u5bf9\u5e94\u7684\u8eab\u4efd\u8bc1\u53f7</li><li class="idnumber-tip-li">\u8d2d\u4e70\u4fdd\u9669\u7c7b\u4ea7\u54c1\u586b\u5199\u7684\u8d2d\u4e70\u4eba\u5b9e\u540d\u4fe1\u606f</li></ul></div>'});x[19]={name:"IDNumber verify",listname:"\u4e3a\u4e86\u4fdd\u62a4\u5e10\u53f7\u5b89\u5168\uff0c\u8bf7\u9a8c\u8bc1\u60a8\u7ed1\u5b9a\u5c0f\u7c73\u5e10\u53f7\u7684\u8eab\u4efd\u8bc1",key:"IDNumberVerify",url:"/auth/id/verify?_flag=524288",tpl:["idnumber_input","btns","IDNumber_Tip","bottom"],tpl_data:{title:"\u4e3a\u4e86\u4fdd\u62a4\u5e10\u53f7\u5b89\u5168\uff0c\u8bf7\u9a8c\u8bc1\u60a8\u7ed1\u5b9a\u5c0f\u7c73\u5e10\u53f7\u7684\u8eab\u4efd\u8bc1",inputType_name:"text",inputName_name:"name",holder_name:"\u8bf7\u8f93\u5165\u60a8\u7684\u8bc1\u4ef6\u59d3\u540d",inputType_id:"text",inputName_id:"id",rule_name:"required",rule_id:"[0-9xX]{15,18}",holder_id:"\u8bf7\u8f93\u5165\u60a8\u7684\u8eab\u4efd\u8bc1\u53f7",ext_cls:"identitypwd"},data:{EmptyError:"\u8bf7\u8f93\u5165\u5b8c\u6574\u7684\u59d3\u540d\u548c\u8eab\u4efd\u8bc1\u53f7",RuleError:"\u60a8\u8f93\u5165\u7684\u59d3\u540d\u6216\u8eab\u4efd\u8bc1\u53f7\u9519\u8bef",ResError:"\u60a8\u8f93\u5165\u7684\u59d3\u540d\u6216\u8eab\u4efd\u8bc1\u53f7\u9a8c\u8bc1\u9519\u8bef",DuplicateError:"{DuplicateErrorIDNumber}"}};B.add({Micloud_contact:'<div class="select_phone_step1">          <div class="identify_newph">            <div class="disten20x10">              <h4 class="pb0">{title}</h4>              <p class="style_h4">{step1_title}</p>            </div>            <div class="identity_ph_lists">              <ul class="c_b select_phone_list_con">              </ul>            </div>          </div>          <div class="tip_btns">            <input class="btn_tip btn_commom btn-submit-1 disabled" type="button" value="\u4e0b\u4e00\u6b65">          </div>        </div>        <div class="select_phone_step2">          <div class="identify_newph">            <div class="disten20x10">              <h4 class="pb0">{title}</h4>              <p class="style_h4">{step2_title}</p>            </div>            <div class="identity_ph_fill">              <ul class="fill_phone_list_con">              </ul>            </div>            <div class="err_tip">              <em class="icon_error"></em>              <span class="verify-error-con"></span>            </div>          </div>          <div class="tip_btns">            <input class="btn_tip btn_commom btn-submit" type="button" value="\u4e0b\u4e00\u6b65">          </div>        </div>'});J.verify_Micloud_contact={name:"Verify Ticket",key:"VerifyMicloudContact",sourceKey:"MicloudContact",url:"/auth/verifyContacts?_flag=64",tpl:["input_verifySMS","btns","bottom"],tpl_data:{title:"\u4e3a\u4e86\u4fdd\u62a4\u5e10\u53f7\u5b89\u5168\uff0c\u9700\u8981\u9a8c\u8bc1\u624b\u673a\u6709\u6548\u6027",sendedtip1:'\u5df2\u7ecf\u53d1\u9001\u4e00\u6761\u6709\u9a8c\u8bc1\u7801\u7684\u77ed\u4fe1\u81f3\u624b\u673a<span class="verify-masked ff6"></span>',sendedtip2:"\u8bf7\u8054\u7cfb\u53f7\u7801\u7684\u4e3b\u4eba\u83b7\u53d6\u9a8c\u8bc1\u7801\uff0c\u586b\u5165\u4e0b\u65b9\u8f93\u5165\u6846\u3002",inputType:"tel",holder:"\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801",inputName:"ticket",send:"\u53d1\u9001\u77ed\u4fe1",rule:"^\\d{6,8}$",unavailable:'<em class="acctip_icon acctip_icon_3"></em>\u4e00\u76f4\u6536\u4e0d\u5230\u9a8c\u8bc1\u77ed\u4fe1\uff1f<a target="_blank"  href="http://static.account.xiaomi.com/html/faq/faqSMSerror.html">\u67e5\u770b\u53ef\u80fd\u539f\u56e0</a>'},forceInit:!0,sendTicket:{autoSend:!0,url:"/auth/sendContactTicket",contentType:4000005,params:{rkey:0,phone:0},beforeSuccess:function(a){0===a.code?a.rkey&&(this.params.rkey=a.rkey):21307===a.code&&(alert("\u5f53\u524d\u64cd\u4f5c\u5df2\u7ecf\u5931\u6548\uff0c\u8bf7\u91cd\u8bd5\uff01"),location.reload())},type:"PH",sending:!1,hold:0,leftTimes:10,times:0,leftTimesText:"\u60a8\u4eca\u5929\u8fd8\u80fd\u53d1\u9001{left}\u6761\u77ed\u4fe1",tips:"\u70b9\u51fb\u53d1\u9001\u77ed\u4fe1\u6309\u94ae\uff0c\u5c06\u4f1a\u53d1\u9001\u4e00\u6761\u6709\u9a8c\u8bc1\u7801\u7684\u77ed\u4fe1\u81f3\u624b\u673a",tipHeader:"\u4e3a\u4e86\u4fdd\u62a4\u5e10\u53f7\u5b89\u5168\uff0c\u9700\u8981\u9a8c\u8bc1\u624b\u673a\u6709\u6548\u6027",prompt:"\u8bf7\u8054\u7cfb\u53f7\u7801\u7684\u4e3b\u4eba\u83b7\u53d6\u9a8c\u8bc1\u7801\u77ed\u4fe1",nochance:"\u60a8\u4eca\u5929\u5df2\u7ecf\u53d1\u9001\u592a\u591a\u77ed\u4fe1\uff0c\u8bf7\u6362\u4e2a\u65f6\u95f4\u6216\u6539\u7528\u5176\u4ed6\u9a8c\u8bc1\u65b9\u5f0f",send:"\u53d1\u9001\u77ed\u4fe1",sending_txt:"\u6b63\u5728\u53d1\u9001",resend:"\u91cd\u65b0\u53d1\u9001",resend_hold:"\u91cd\u65b0\u53d1\u9001{time}"},data:{EmptyError:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",RuleError:"\u9a8c\u8bc1\u7801\u8f93\u5165\u9519\u8bef",ResError:"\u9a8c\u8bc1\u7801\u9519\u8bef\u6216\u5df2\u8fc7\u671f"}};x[6]={name:"Micloud Contact",listname:"\u540c\u6b65\u5230\u5c0f\u7c73\u4e91\u670d\u52a1\u7684\u5e38\u7528\u8054\u7cfb\u4eba",key:"MicloudContact",url:"/auth/verifyContacts?_flag=64",tpl:["Micloud_contact","bottom"],nextStep:{url:"/auth/checkContacts",submit:function(a,b){a&&a.phone&&(J.verify_Micloud_contact.ticketPhone=a.phone,J.verify_Micloud_contact.sendTicket.params={rkey:a.rkey,phone:a.phone},O(J.verify_Micloud_contact))}},afterRender:function(a,b,c){var d=b.els;d.step1=g(".select_phone_step1")[0];d.step2=g(".select_phone_step2")[0];d.selectCon=g(".select_phone_list_con")[0];d.fillCon=g(".fill_phone_list_con")[0];d.submit1=g(".btn-submit-1")[0];p(d.selectCon,"click",function(a){a=a||f.event;a=a.target||a.srcElement;a=F(a,"select_phone_list_li")?a:a.parentNode;if(F(a,"select_phone_list_li")){var b=g("span",a);F(a,"now")?(v(a,"now"),v(b,"select_phone_value")):(s(a,"now"),s(b,"select_phone_value"))}3<=g(".now",d.selectCon).length?v(d.submit1,"disabled"):s(d.submit1,"disabled")});p(d.submit1,"click",function(){if(F(d.submit1,"disabled")){return !1}var a=g(".select_phone_value",d.selectCon),c=[];b.selectedPhones=[];for(var f=0,h;f<a.length;f++){h=(a[f].innerHTML+"").replace(/\**$/,""),b.selectedPhones.push(h),c.push("<li>                    <span>"+h+'</span>                    <label class="input_bg fill_contacts_input">                      <input class="fill_phone_input" type="text"                         rule="^\\d{3}$" name="contacts"                         placeholder="\u8865\u5168\u7535\u8bdd\u53f7\u7801">                    </label>                  </li>')}d.fillCon.innerHTML=c.join("");d.inputs=[];a=g(".fill_phone_input",d.fillCon);for(f=0;c=a[f++];){_n=c.getAttribute("name"),hidden="hidden"==c.getAttribute("type"),_n&&!hidden&&d.inputs.push({name:_n,el:c}),ha(c)}n(d.step1);r(d.step2)})},beforeSubmitData:function(a){for(var b=[],c=0;c<a.length;c++){b.push(this.selectedPhones[c]+a[c].contacts)}return[{contacts:b.join(",")}]},onModeShown:function(a,b,c){a=b.els;a.selectCon.innerHTML="";a.fillCon.innerHTML="";n(a.step2);r(a.step1);a=function(){var a=(b.paramJson&&b.paramJson.contacts).split(",");b.paramJson._used=!0;for(var c=[],f=0;f<a.length;f++){c.push('<li class="n_checked select_phone_list_li"><i class="icon_select"></i><span>'+a[f]+"</span></li>")}b.els.selectCon.innerHTML=c.join("")};b.paramJson&&!b.paramJson._used?a():(ba([b]),S([b],a))},tpl_data:{submit:"\u4e0b\u4e00\u6b65",title:"\u624b\u673a\u901a\u8baf\u5f55\u8054\u7cfb\u4eba\u9a8c\u8bc1",step1_title:"\u8bf7\u7b5b\u9009\u51fa\u4e0b\u65b9\u624b\u673a\u53f7\u7801\u4e2d\uff0c\u5c5e\u4e8e\u60a8\u624b\u673a\u7535\u8bdd\u8054\u7cfb\u4eba\u7684\u53f7\u7801\u3002",step2_title:"\u8bf7\u60a8\u8865\u5168\u4e0b\u65b9\u8054\u7cfb\u4eba\u7684\u7535\u8bdd\u53f7\u7801",secTitle:"\u4ec5\u9650\u6700\u8fd13\u4e2a\u6708\u5185\u540c\u6b65\u5230\u5c0f\u7c73\u4e91\u670d\u52a1\u5e76\u6709\u901a\u8bdd\u8bb0\u5f55\u6216\u77ed\u4fe1\u8bb0\u5f55\u7684\u5e38\u7528\u8054\u7cfb\u4eba",inputType:"tel",holder:"\u8bf7\u8f93\u5165\u7535\u8bdd\u53f7\u7801",rule:"\\+*\\d{4,20}",contact_list1:"\u8054\u7cfb\u4eba1\uff1a",contact_list2:"\u8054\u7cfb\u4eba2\uff1a",contact_list3:"\u8054\u7cfb\u4eba3\uff1a",contact_list4:"\u8054\u7cfb\u4eba4\uff1a",unavailable:""},data:{EmptyError:"\u8bf7\u8f93\u5165\u60a8\u7684\u8054\u7cfb\u4eba\u53f7\u7801",RuleError:"\u8054\u7cfb\u4eba\u53f7\u7801\u9519\u8bef",ResError:"\u8054\u7cfb\u4eba\u53f7\u7801\u9519\u8bef",DuplicateError:"\u8054\u7cfb\u4eba\u53f7\u7801\u91cd\u590d"}};x[17]={name:"Qucik Delivery Contact",listname:"\u9a8c\u8bc1\u60a8\u7684\u5c0f\u7c73\u7f51\u6536\u8d27\u4eba\u624b\u673a\u53f7",key:"QuickDeliveryContact",url:"/auth/deliveryAddress/quickVerify?_flag=131072",tpl:["input","btns","bottom"],tpl_data:{title:"\u8bf7\u586b\u5199\u60a8\u5c0f\u7c73\u7f51\u5730\u5740\u5217\u8868\u4e2d\u7684\u6536\u8d27\u4eba\u624b\u673a\u53f7",secTitle:"\u6536\u8d27\u4eba\u624b\u673a\u53f7",inputType:"text",inputName:"consignee",rule:"required",holder:"\u8bf7\u586b\u5199\u60a8\u7684\u6536\u8d27\u4eba\u624b\u673a\u53f7",ext_cls:"identitypwd",unavailable:""},data:{EmptyError:"\u8bf7\u586b\u5199\u6536\u8d27\u4eba\u624b\u673a\u53f7",RuleError:"\u8bf7\u586b\u5199\u6536\u8d27\u4eba\u624b\u673a\u53f7",ResError:"\u624b\u673a\u53f7\u4e0d\u6b63\u786e",DuplicateError:"\u624b\u673a\u53f7\u4e0d\u6b63\u786e",CantSafePhoneError:"\u4e0d\u80fd\u4e0e\u5e10\u53f7\u7ed1\u5b9a\u7684\u624b\u673a\u53f7\u76f8\u540c"}};B.add({quick_micloud_contact:'<div class="disten30x103">              <h6>{title}</h6>              <div class="contacts_box">                <dl class="c_b">                  <dt>{contact_list}</dt>                  <dd><label class="input_bg"><input type="{inputType}" rule="{rule}" name="{inputName}" placeholder="{holder}"></label></dd>                </dl>                <div class="err_tip">                  <em class="acctip_icon acctip_icon_1"></em>                  <span class="verify-error-con"></span>                </div>                <div class="err_tip send_left_times">                </div>              </div>              <div class="txt_link">                <span class="verify-unavailable" style="display:none">                {unavailable}                </span>              </div>           </div>'});x[18]={name:"Qucik Micloud Contact",listname:"\u9a8c\u8bc1\u540c\u6b65\u5230\u5c0f\u7c73\u4e91\u670d\u52a1\u7684\u8054\u7cfb\u4eba",key:"QuickMicloudContact",url:"/auth/micloudContacts/quickVerify?_flag=262144",tpl:["quick_micloud_contact","btns","bottom"],tpl_data:{title:"\u8bf7\u8f93\u5165\u4e00\u4e2a\u60a8\u5c0f\u7c73\u624b\u673a\u901a\u8baf\u5f55\u4fdd\u5b58\u7684\u8054\u7cfb\u4eba\u7684\u7535\u8bdd\u53f7\u7801",secTitle:"{QuickMicloud-secTitle}",inputType:"tel",inputName:"phone",rule:"\\+*\\d{4,20}",holder:"\u8bf7\u8f93\u5165\u7535\u8bdd\u53f7\u7801",ext_cls:"identitypwd",contact_list:"\u8054\u7cfb\u4eba\uff1a",unavailable:""},data:{EmptyError:"\u8bf7\u8f93\u5165\u7535\u8bdd\u53f7\u7801",RuleError:"\u53f7\u7801\u6709\u8bef\uff0c\u65e0\u6cd5\u901a\u8fc7\u9a8c\u8bc1",ResError:"\u53f7\u7801\u6709\u8bef\uff0c\u65e0\u6cd5\u901a\u8fc7\u9a8c\u8bc1",DuplicateError:"\u53f7\u7801\u6709\u8bef\uff0c\u65e0\u6cd5\u901a\u8fc7\u9a8c\u8bc1"}};var La=null,H=null,G=null,l=null,T=null,P={},u=null,C={},Pa=[],ea=0,U=!0,Oa=function(){var a=0;return function(){return"VerifyKey"+a++}}(),xa={getiCode:function(a,b,c){this.captchaBox||(this.captchaBox=this.initCaptchaContainer(Q));this.show();this._callback=a;this._url=b;this.setCaptchaImg(b);a=this.els;c?w(a.errorCon,c,a.input):w(a.errorCon,"",a.input)},show:function(){r(T);n(G);n(l)},setCaptchaImg:function(a){this.els.captchaImg.src=(a||"/pass/getCode?icodeType=login")+"&"+Math.random()},submit:function(){var a=this.els,b=Y(a.input.value);/^\w{4,8}$/.test(b)?this._callback(b):w(a.errorCon,Q.ResError,a.input)},initCaptchaContainer:function(a){var b=this,c=q.createElement("div");c.id="verify-mod-"+a.key;a=ca(a);c.innerHTML=a;T.appendChild(c);var d=this.els={};d.input=g(".captcha-input")[0];d.submitBtn=g(".btn-submit",c)[0];d.cancelBtn=g(".btn-cancel",c)[0];d.captchaBox=g(".captcha-box",c)[0];d.captchaImg=g(".captcha-image",c)[0];d.errorCon=g(".verify-error-con",c)[0];p(d.submitBtn,"click",function(){b.submit()});p(d.cancelBtn,"click",function(){b.close();b._callback(!1)});p(d.captchaImg,"click",function(){clearTimeout(b.captchaRefreshTc);b.captchaRefreshTc=setTimeout(function(){b.setCaptchaImg(b._url)},200)});oa(d.input,!0);p(d.input,"keyup",function(a){a=parseInt(a.charCode)||a.keyCode;13===a?b.submit():8===a&&w(d.errorCon,"",d.input)});p(d.input,"input",function(){w(d.errorCon,"",d.input)});p(d.input,"propertychange",function(){w(d.errorCon,"",d.input)});return c},close:function(){n(T);r(G);n(l)}},h={},ja={SUCCESS:0,FAIL:1},Aa=ja.FAIL,D=function(){var a={},b=[],c="",d=null,e=0,f=function(){var b=a[c];b&&b.callback&&b.callback();c="";clearTimeout(d);d=null;g()},g=function(){if(!d){var e=b.shift();if(e){c=e;var e=na(a[e].data),h=new Image;h.onload=h.oncomplete=h.onerror=f;h.src="/pass/ajax/tick?biz=auth&"+e;d=setTimeout(function(){d=null;g()},1000)}}};return function(c,d){c._t=(new Date).getTime();key="sendStatus-"+e++;c={key:key,data:c,callback:d};I.add(key,c);a[key]=c;b.push(key);g()}}();ya.log=I;f.MiAccountVerification=ya;ka&&ka.loaded&&ka.loaded()})(window,document);
OO("com.mi.utils.URL",function(b){var a=b.$class({constructor:function(c){var d=this._node=document.createElement("A");d.href=c},source:function(){return this._node.href},assign:function(c){this._node.href=c;return this},hash:function(){return this._node.hash},search:function(){return this._node.search},hostname:function(){return this._node.hostname},host:function(){return this._node.host},pathname:function(){return this._node.pathname},protocol:function(){return this._node.protocol},port:function(){return this._node.port},appendParams:function(d){if(typeof d==="object"){d=this.constructor.stringify(d)}var c=this.source();if(c.indexOf("?")===-1){c+="?"+d}else{c+="&"+d}return this.assign(c)}},{statics:{parse:function(g,d){var f=Math.max(g.indexOf("?"),g.indexOf("#"));if(f!==-1){g=g.substring(f+1)}d=d||{};var c={};var e=g.split("&");b.each(e,function(h,l){var k=l.split("=");var i=k[0],j=k[1];if(!d.raw){i=decodeURIComponent(i);j=decodeURIComponent(j)}c[i]=j});return c},stringify:function(e,d){d=d||{};var c=[];b.each(e,function(f,g){if(!d.raw){f=encodeURIComponent(f);g=encodeURIComponent(g)}c.push(f+"="+g)});return c.join("&")}}});return a});